<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
  <meta charset="UTF-8">
  <title>추가 정보 입력</title>
  <th:block layout:fragment="css">
    <link rel="stylesheet" th:href="@{/css/member.css}">
  </th:block>
</head>

<body>
<div layout:fragment="content" class="container mt-5" style="max-width: 720px;">
  <h3 class="text-center mb-4">추가 정보 입력</h3>

  <form th:action="@{/oauth/join-extra}" th:object="${memberFormDto}" method="post"
        class="p-4 border rounded bg-light">

    <div class="mb-3">
      <label class="form-label">이름</label>
      <input type="text" th:field="*{name}" class="form-control" readonly>
    </div>

    <div class="mb-3">
      <label class="form-label">이메일</label>
      <input type="email" th:field="*{email}" class="form-control" readonly>
    </div>

    <div class="mb-3">
      <label class="form-label">주소</label>

      <div class="input-group mb-2">
        <input type="text" th:field="*{zipcode}" class="postcodify_postcode5 form-control" placeholder="우편번호" readonly>
        <button type="button" id="postcodify_search_button" class="btn btn-outline-secondary">주소 검색</button>
      </div>

      <input type="text" th:field="*{roadAddress}" class="postcodify_address form-control mb-2" placeholder="도로명 주소" readonly>
      <input type="text" th:field="*{detailAddress}" class="postcodify_details form-control" placeholder="상세 주소를 입력해주세요">

      <p th:if="${#fields.hasErrors('address')}" th:errors="*{address}" class="fieldError mt-1 text-danger"></p>
    </div>

    <div class="mb-3">
      <label class="form-label">회원 유형</label>
      <div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" th:field="*{role}" value="USER">
          <label class="form-check-label">구매회원</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" th:field="*{role}" value="SELLER">
          <label class="form-check-label">판매회원</label>
        </div>
      </div>
    </div>

    <div class="d-grid">
      <button type="submit" class="btn btn-primary">가입 완료</button>
    </div>

    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
  </form>
</div>
</body>

<th:block layout:fragment="script">
  <script src="https://cdn.poesis.kr/post/search.min.js"></script>
  <script th:src="@{/js/member.js}"></script>
</th:block>
</html>
